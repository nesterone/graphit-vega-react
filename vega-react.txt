<VegaLite>
  <Data values={data}/>
  <Transform>
      <Filter expression={({year})=> (year == 2000)} />
      <Calculate
        as='gender'
        expression={({sex})=>(sex == 2 ? 'Female’:  'Male’)}
      />
  </Transform>
  <Mark type='bar'/>
  <Encode render={({gender, people, age}) => (
    <Fragment>
      <Column field={age} type="ordinal"/>
      <X
        field={gender}
        type='nominal'
      >
        <Scale rangeStep='12' />
        <Axis title='population' grid='false'/>
      </X>
      <Y
        field={people}
        type='quantitative'
        aggregate='sum'
      >
        <Axis title=''/>
      </Y>
      <Color
        field={gender}
        type='nominal'
        scale={
          range: ['#EA98D2', '#659CCA']
        }
      />
    </Fragment>
    )/>
    <Config>
      <View stroke="transparent"/>
      <Axis domainWidth='1'/>
    </Config>
</VegaLite>


<VegaContext
      timeZone="blahblah"
      visualConfig={someVIsualConfig}
      themeSwitcher={somethingHere}
    >
  <App/>
</VegaContext>


